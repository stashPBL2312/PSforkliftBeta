(function (react, adminjs) {
  'use strict';

  const ActionDone = props => {
    const {
      action,
      notice,
      redirectUrl
    } = props || {};
    const addNotice = adminjs.useNotice();
    const msg = react.useMemo(() => {
      if (notice?.message) return notice.message;
      const actionName = action?.name;
      switch (actionName) {
        case 'recover':
          return 'Successfully recovered given record';
        case 'hardDelete':
          return 'Successfully deleted given record';
        case 'softDelete':
          return 'Successfully soft-deleted given record';
        default:
          return 'Action completed successfully';
      }
    }, [notice, action]);
    const listUrl = react.useMemo(() => {
      try {
        const p = window.location.pathname;
        const m = p.match(/^(.*?\/admin\/resources\/[^/]+)/);
        return m ? m[1] : '/admin';
      } catch {
        return '/admin';
      }
    }, []);
    react.useEffect(() => {
      // Tampilkan toast sekarang, lalu redirect dengan delay singkat agar toast sempat terlihat
      try {
        addNotice({
          message: msg,
          type: notice?.type || 'success'
        });
      } catch {}
      const target = redirectUrl || listUrl;
      const REDIRECT_DELAY_MS = 1800;
      let t;
      try {
        t = setTimeout(() => {
          window.location.assign(target);
        }, REDIRECT_DELAY_MS);
      } catch {}
      return () => {
        try {
          if (t) clearTimeout(t);
        } catch {}
      };
    }, [addNotice, msg, notice, redirectUrl, listUrl]);
    return null;
  };

  AdminJS.UserComponents = {};
  AdminJS.UserComponents.ActionNotice = ActionDone;

})(React, AdminJS);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYnVuZGxlLmpzIiwic291cmNlcyI6WyIuLi9zcmMvYWRtaW4vY29tcG9uZW50cy9BY3Rpb25Eb25lLmpzeCIsImVudHJ5LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHVzZUVmZmVjdCwgdXNlTWVtbyB9IGZyb20gJ3JlYWN0J1xuaW1wb3J0IHsgdXNlTm90aWNlIH0gZnJvbSAnYWRtaW5qcydcblxuY29uc3QgQWN0aW9uRG9uZSA9IChwcm9wcykgPT4ge1xuICBjb25zdCB7IGFjdGlvbiwgbm90aWNlLCByZWRpcmVjdFVybCB9ID0gcHJvcHMgfHwge31cbiAgY29uc3QgYWRkTm90aWNlID0gdXNlTm90aWNlKClcblxuICBjb25zdCBtc2cgPSB1c2VNZW1vKCgpID0+IHtcbiAgICBpZiAobm90aWNlPy5tZXNzYWdlKSByZXR1cm4gbm90aWNlLm1lc3NhZ2VcbiAgICBjb25zdCBhY3Rpb25OYW1lID0gYWN0aW9uPy5uYW1lXG4gICAgc3dpdGNoIChhY3Rpb25OYW1lKSB7XG4gICAgICBjYXNlICdyZWNvdmVyJzogcmV0dXJuICdTdWNjZXNzZnVsbHkgcmVjb3ZlcmVkIGdpdmVuIHJlY29yZCdcbiAgICAgIGNhc2UgJ2hhcmREZWxldGUnOiByZXR1cm4gJ1N1Y2Nlc3NmdWxseSBkZWxldGVkIGdpdmVuIHJlY29yZCdcbiAgICAgIGNhc2UgJ3NvZnREZWxldGUnOiByZXR1cm4gJ1N1Y2Nlc3NmdWxseSBzb2Z0LWRlbGV0ZWQgZ2l2ZW4gcmVjb3JkJ1xuICAgICAgZGVmYXVsdDogcmV0dXJuICdBY3Rpb24gY29tcGxldGVkIHN1Y2Nlc3NmdWxseSdcbiAgICB9XG4gIH0sIFtub3RpY2UsIGFjdGlvbl0pXG5cbiAgY29uc3QgbGlzdFVybCA9IHVzZU1lbW8oKCkgPT4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBwID0gd2luZG93LmxvY2F0aW9uLnBhdGhuYW1lXG4gICAgICBjb25zdCBtID0gcC5tYXRjaCgvXiguKj9cXC9hZG1pblxcL3Jlc291cmNlc1xcL1teL10rKS8pXG4gICAgICByZXR1cm4gbSA/IG1bMV0gOiAnL2FkbWluJ1xuICAgIH0gY2F0Y2gge1xuICAgICAgcmV0dXJuICcvYWRtaW4nXG4gICAgfVxuICB9LCBbXSlcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIC8vIFRhbXBpbGthbiB0b2FzdCBzZWthcmFuZywgbGFsdSByZWRpcmVjdCBkZW5nYW4gZGVsYXkgc2luZ2thdCBhZ2FyIHRvYXN0IHNlbXBhdCB0ZXJsaWhhdFxuICAgIHRyeSB7IGFkZE5vdGljZSh7IG1lc3NhZ2U6IG1zZywgdHlwZTogKG5vdGljZT8udHlwZSB8fCAnc3VjY2VzcycpIH0pIH0gY2F0Y2gge31cbiAgICBjb25zdCB0YXJnZXQgPSByZWRpcmVjdFVybCB8fCBsaXN0VXJsXG4gICAgY29uc3QgUkVESVJFQ1RfREVMQVlfTVMgPSAxODAwXG4gICAgbGV0IHRcbiAgICB0cnkgeyB0ID0gc2V0VGltZW91dCgoKSA9PiB7IHdpbmRvdy5sb2NhdGlvbi5hc3NpZ24odGFyZ2V0KSB9LCBSRURJUkVDVF9ERUxBWV9NUykgfSBjYXRjaCB7fVxuICAgIHJldHVybiAoKSA9PiB7IHRyeSB7IGlmICh0KSBjbGVhclRpbWVvdXQodCkgfSBjYXRjaCB7fSB9XG4gIH0sIFthZGROb3RpY2UsIG1zZywgbm90aWNlLCByZWRpcmVjdFVybCwgbGlzdFVybF0pXG5cbiAgcmV0dXJuIG51bGxcbn1cblxuZXhwb3J0IGRlZmF1bHQgQWN0aW9uRG9uZSIsIkFkbWluSlMuVXNlckNvbXBvbmVudHMgPSB7fVxuaW1wb3J0IEFjdGlvbk5vdGljZSBmcm9tICcuLi9zcmMvYWRtaW4vY29tcG9uZW50cy9BY3Rpb25Eb25lJ1xuQWRtaW5KUy5Vc2VyQ29tcG9uZW50cy5BY3Rpb25Ob3RpY2UgPSBBY3Rpb25Ob3RpY2UiXSwibmFtZXMiOlsiQWN0aW9uRG9uZSIsInByb3BzIiwiYWN0aW9uIiwibm90aWNlIiwicmVkaXJlY3RVcmwiLCJhZGROb3RpY2UiLCJ1c2VOb3RpY2UiLCJtc2ciLCJ1c2VNZW1vIiwibWVzc2FnZSIsImFjdGlvbk5hbWUiLCJuYW1lIiwibGlzdFVybCIsInAiLCJ3aW5kb3ciLCJsb2NhdGlvbiIsInBhdGhuYW1lIiwibSIsIm1hdGNoIiwidXNlRWZmZWN0IiwidHlwZSIsInRhcmdldCIsIlJFRElSRUNUX0RFTEFZX01TIiwidCIsInNldFRpbWVvdXQiLCJhc3NpZ24iLCJjbGVhclRpbWVvdXQiLCJBZG1pbkpTIiwiVXNlckNvbXBvbmVudHMiLCJBY3Rpb25Ob3RpY2UiXSwibWFwcGluZ3MiOiI7OztFQUdBLE1BQU1BLFVBQVUsR0FBSUMsS0FBSyxJQUFLO0lBQzVCLE1BQU07TUFBRUMsTUFBTTtNQUFFQyxNQUFNO0VBQUVDLElBQUFBO0VBQVksR0FBQyxHQUFHSCxLQUFLLElBQUksRUFBRTtFQUNuRCxFQUFBLE1BQU1JLFNBQVMsR0FBR0MsaUJBQVMsRUFBRTtFQUU3QixFQUFBLE1BQU1DLEdBQUcsR0FBR0MsYUFBTyxDQUFDLE1BQU07RUFDeEIsSUFBQSxJQUFJTCxNQUFNLEVBQUVNLE9BQU8sRUFBRSxPQUFPTixNQUFNLENBQUNNLE9BQU87RUFDMUMsSUFBQSxNQUFNQyxVQUFVLEdBQUdSLE1BQU0sRUFBRVMsSUFBSTtFQUMvQixJQUFBLFFBQVFELFVBQVU7RUFDaEIsTUFBQSxLQUFLLFNBQVM7RUFBRSxRQUFBLE9BQU8scUNBQXFDO0VBQzVELE1BQUEsS0FBSyxZQUFZO0VBQUUsUUFBQSxPQUFPLG1DQUFtQztFQUM3RCxNQUFBLEtBQUssWUFBWTtFQUFFLFFBQUEsT0FBTyx3Q0FBd0M7RUFDbEUsTUFBQTtFQUFTLFFBQUEsT0FBTywrQkFBK0I7RUFDakQ7RUFDRixFQUFBLENBQUMsRUFBRSxDQUFDUCxNQUFNLEVBQUVELE1BQU0sQ0FBQyxDQUFDO0VBRXBCLEVBQUEsTUFBTVUsT0FBTyxHQUFHSixhQUFPLENBQUMsTUFBTTtNQUM1QixJQUFJO0VBQ0YsTUFBQSxNQUFNSyxDQUFDLEdBQUdDLE1BQU0sQ0FBQ0MsUUFBUSxDQUFDQyxRQUFRO0VBQ2xDLE1BQUEsTUFBTUMsQ0FBQyxHQUFHSixDQUFDLENBQUNLLEtBQUssQ0FBQyxpQ0FBaUMsQ0FBQztFQUNwRCxNQUFBLE9BQU9ELENBQUMsR0FBR0EsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLFFBQVE7RUFDNUIsSUFBQSxDQUFDLENBQUMsTUFBTTtFQUNOLE1BQUEsT0FBTyxRQUFRO0VBQ2pCLElBQUE7SUFDRixDQUFDLEVBQUUsRUFBRSxDQUFDO0VBRU5FLEVBQUFBLGVBQVMsQ0FBQyxNQUFNO0VBQ2Q7TUFDQSxJQUFJO0VBQUVkLE1BQUFBLFNBQVMsQ0FBQztFQUFFSSxRQUFBQSxPQUFPLEVBQUVGLEdBQUc7RUFBRWEsUUFBQUEsSUFBSSxFQUFHakIsTUFBTSxFQUFFaUIsSUFBSSxJQUFJO0VBQVcsT0FBQyxDQUFDO01BQUMsQ0FBQyxDQUFDLE1BQU0sQ0FBQztFQUM5RSxJQUFBLE1BQU1DLE1BQU0sR0FBR2pCLFdBQVcsSUFBSVEsT0FBTztNQUNyQyxNQUFNVSxpQkFBaUIsR0FBRyxJQUFJO0VBQzlCLElBQUEsSUFBSUMsQ0FBQztNQUNMLElBQUk7UUFBRUEsQ0FBQyxHQUFHQyxVQUFVLENBQUMsTUFBTTtFQUFFVixRQUFBQSxNQUFNLENBQUNDLFFBQVEsQ0FBQ1UsTUFBTSxDQUFDSixNQUFNLENBQUM7UUFBQyxDQUFDLEVBQUVDLGlCQUFpQixDQUFDO01BQUMsQ0FBQyxDQUFDLE1BQU0sQ0FBQztFQUMzRixJQUFBLE9BQU8sTUFBTTtRQUFFLElBQUk7RUFBRSxRQUFBLElBQUlDLENBQUMsRUFBRUcsWUFBWSxDQUFDSCxDQUFDLENBQUM7UUFBQyxDQUFDLENBQUMsTUFBTSxDQUFDO01BQUUsQ0FBQztFQUMxRCxFQUFBLENBQUMsRUFBRSxDQUFDbEIsU0FBUyxFQUFFRSxHQUFHLEVBQUVKLE1BQU0sRUFBRUMsV0FBVyxFQUFFUSxPQUFPLENBQUMsQ0FBQztFQUVsRCxFQUFBLE9BQU8sSUFBSTtFQUNiLENBQUM7O0VDdkNEZSxPQUFPLENBQUNDLGNBQWMsR0FBRyxFQUFFO0VBRTNCRCxPQUFPLENBQUNDLGNBQWMsQ0FBQ0MsWUFBWSxHQUFHQSxVQUFZOzs7Ozs7In0=
